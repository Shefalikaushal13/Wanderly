import { GoogleGenerativeAI, HarmCategory, HarmBlockThreshold } from '@google/generative-ai';
  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Loaction:Las Vegas, for 3 days, for Couple, with cheap budget, Give me hotels options list with hotel name, address, price, hotel image url, geocoordinates, rating, description and suggest itinerary with place name, place details, place image url, geocoordinates, rating, ticket pricing, travel time to each location for 3 days with each day planned with best time to visit in JSON format. Make sure to not have any JSON syntax error, make proper use of ',' and braces.\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"hotel_options\": [\n    {\n      \"name\": \"The D Las Vegas\",\n      \"address\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$50 - $100 per night\",\n      \"image_url\": \"https://www.thedlegacy.com/media/images/the-d-exterior.jpg\",\n      \"geocoordinates\": \"36.1699° N, 115.1421° W\",\n      \"rating\": \"3.5 stars\",\n      \"description\": \"A budget-friendly hotel located in the heart of Fremont Street Experience. Features a casino, restaurants, and a rooftop pool.\"\n    },\n    {\n      \"name\": \"Golden Nugget Las Vegas\",\n      \"address\": \"129 E Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$75 - $150 per night\",\n      \"image_url\": \"https://www.goldennugget.com/las-vegas/media/images/golden-nugget-las-vegas-exterior.jpg\",\n      \"geocoordinates\": \"36.1695° N, 115.1415° W\",\n      \"rating\": \"4 stars\",\n      \"description\": \"A historic hotel with a vibrant casino, multiple restaurants, and a world-famous shark tank.\"\n    },\n    {\n      \"name\": \"Circus Circus Hotel & Casino\",\n      \"address\": \"2880 Las Vegas Blvd S, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $80 per night\",\n      \"image_url\": \"https://www.circuscircus.com/media/images/circus-circus-exterior.jpg\",\n      \"geocoordinates\": \"36.1171° N, 115.1683° W\",\n      \"rating\": \"3 stars\",\n      \"description\": \"A family-friendly hotel known for its circus acts, amusement park, and budget-friendly options.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"morning\": {\n        \"time\": \"9:00 AM - 12:00 PM\",\n        \"location\": \"Fremont Street Experience\",\n        \"details\": \"Explore the vibrant pedestrian mall with live music, street performers, and vintage casinos.\",\n        \"image_url\": \"https://www.vegasexperience.com/sites/default/files/styles/content_large/public/2020-07/FremontStreetExperience.jpg\",\n        \"geocoordinates\": \"36.1695° N, 115.1421° W\",\n        \"rating\": \"4.5 stars\",\n        \"ticket_pricing\": \"Free\",\n        \"travel_time\": \"Walking distance from most budget hotels\"\n      },\n      \"afternoon\": {\n        \"time\": \"1:00 PM - 4:00 PM\",\n        \"location\": \"The Neon Museum\",\n        \"details\": \"Discover a collection of iconic Las Vegas neon signs, a unique and colorful experience.\",\n        \"image_url\": \"https://www.neonmuseum.org/wp-content/uploads/2022/05/Neon-Museum-Exterior-with-Sunset-Sky.jpg\",\n        \"geocoordinates\": \"36.1701° N, 115.1345° W\",\n        \"rating\": \"4.5 stars\",\n        \"ticket_pricing\": \"$25 per person\",\n        \"travel_time\": \"15-20 minutes by car or 30-40 minutes by bus\"\n      },\n      \"evening\": {\n        \"time\": \"7:00 PM - 10:00 PM\",\n        \"location\": \"The LINQ Promenade\",\n        \"details\": \"Enjoy dinner at one of the many restaurants, take a ride on the High Roller observation wheel, and experience the vibrant nightlife.\",\n        \"image_url\": \"https://www.thelinq.com/media/images/linq-promenade-exterior.jpg\",\n        \"geocoordinates\": \"36.1191° N, 115.1717° W\",\n        \"rating\": \"4 stars\",\n        \"ticket_pricing\": \"Free to walk around, High Roller tickets start at $35 per person\",\n        \"travel_time\": \"10-15 minutes by car or 20-30 minutes by bus\"\n      }\n    },\n    \"day2\": {\n      \"morning\": {\n        \"time\": \"10:00 AM - 1:00 PM\",\n        \"location\": \"Red Rock Canyon National Conservation Area\",\n        \"details\": \"Explore the scenic beauty of red rock formations, hiking trails, and stunning views.\",\n        \"image_url\": \"https://www.nps.gov/redr/learn/nature/images/red-rock-canyon-rock-formations-and-desert-vegetation-cropped.jpg\",\n        \"geocoordinates\": \"36.2128° N, 115.2368° W\",\n        \"rating\": \"4.5 stars\",\n        \"ticket_pricing\": \"$15 per vehicle\",\n        \"travel_time\": \"30-40 minutes by car\"\n      },\n      \"afternoon\": {\n        \"time\": \"2:00 PM - 5:00 PM\",\n        \"location\": \"The Bellagio Conservatory & Botanical Garden\",\n        \"details\": \"Admire stunning floral displays and seasonal themes, a free and beautiful experience.\",\n        \"image_url\": \"https://www.bellagio.com/media/images/bellagio-conservatory-botanical-garden-exterior.jpg\",\n        \"geocoordinates\": \"36.1111° N, 115.1738° W\",\n        \"rating\": \"4 stars\",\n        \"ticket_pricing\": \"Free\",\n        \"travel_time\": \"15-20 minutes by car or 30-40 minutes by bus\"\n      },\n      \"evening\": {\n        \"time\": \"7:00 PM - 10:00 PM\",\n        \"location\": \"The Venetian & The Palazzo\",\n        \"details\": \"Enjoy a romantic gondola ride through the Grand Canal Shoppes, and explore the luxurious atmosphere of the complex.\",\n        \"image_url\": \"https://www.venetian.com/media/images/venetian-and-palazzo-exterior.jpg\",\n        \"geocoordinates\": \"36.1139° N, 115.1724° W\",\n        \"rating\": \"4.5 stars\",\n        \"ticket_pricing\": \"Gondola rides start at $35 per person\",\n        \"travel_time\": \"10-15 minutes by car or 20-30 minutes by bus\"\n      }\n    },\n    \"day3\": {\n      \"morning\": {\n        \"time\": \"9:00 AM - 12:00 PM\",\n        \"location\": \"The Strip\",\n        \"details\": \"Stroll along the famous Las Vegas Boulevard, marvel at the iconic hotels, and experience the bustling atmosphere.\",\n        \"image_url\": \"https://www.visitlasvegas.com/media/images/the-strip-exterior.jpg\",\n        \"geocoordinates\": \"36.1145° N, 115.1735° W\",\n        \"rating\": \"5 stars\",\n        \"ticket_pricing\": \"Free\",\n        \"travel_time\": \"Walking distance from most hotels\"\n      },\n      \"afternoon\": {\n        \"time\": \"1:00 PM - 4:00 PM\",\n        \"location\": \"The High Roller Observation Wheel\",\n        \"details\": \"Enjoy panoramic views of the Las Vegas Strip from the world's tallest observation wheel.\",\n        \"image_url\": \"https://www.caesars.com/linq/media/images/high-roller-exterior.jpg\",\n        \"geocoordinates\": \"36.1191° N, 115.1717° W\",\n        \"rating\": \"4.5 stars\",\n        \"ticket_pricing\": \"$35 per person\",\n        \"travel_time\": \"Walking distance from the LINQ Promenade\"\n      },\n      \"evening\": {\n        \"time\": \"7:00 PM - 10:00 PM\",\n        \"location\": \"A free show on the Strip\",\n        \"details\": \"Choose from a variety of free shows, such as the Bellagio Fountains, the Mirage Volcano, or the Wynn Lake of Dreams.\",\n        \"image_url\": \"https://www.bellagio.com/media/images/bellagio-fountains-exterior.jpg\",\n        \"geocoordinates\": \"36.1111° N, 115.1738° W\",\n        \"rating\": \"4.5 stars\",\n        \"ticket_pricing\": \"Free\",\n        \"travel_time\": \"Walking distance from most hotels\"\n      }\n    }\n  }\n}\n```"},
          ],
        },
      ],
    });
  